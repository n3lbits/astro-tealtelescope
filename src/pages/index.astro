---
import BaseLayout from '../layouts/BaseLayout.astro';
import Post from '../components/Post.astro';
import Note from '../components/Note.astro';
import { getCollection } from 'astro:content';

const pageTitle = 'nelailen';

const allPosts = await getCollection('posts');
const allNotes = await getCollection('notes');
---

<BaseLayout pageTitle={pageTitle}>
  <body>
    <section class='post-wrapper'>
      <div class='hero'>
        <h1>My Astrocity</h1>
        <h2>My awesome blog subtitle</h2>
        <p id='quote'></p>
      </div>

      <section class='list-content'>
        <h2>Recent posts</h2>
        <ul>
          {
            allPosts.map((post) => (
              <Post url={`/posts/${post.id}/`} title={post.data.title} />
            ))
          }
        </ul>
        <h2>Recent Notes</h2>
        <ul>
          {
            allNotes.map((post) => (
              <Note url={`/notes/${post.id}/`} title={post.data.title} />
            ))
          }
        </ul>
      </section>
      <script>
        const quotes = [
          {
            quote:
              'The purple elephant dances only when the moon whispers forgotten lullabies.',
            source: "Professor Whimsy's Guide to Improbable Physics",
          },
          {
            quote:
              "I've counted seventeen doorknobs today, but none of them taste like Tuesday's promises.",
            source: 'Confessions of a Chronological Misfit',
          },
          {
            quote:
              'Beware the smiling potato, for it has seen your socks and judges them harshly.',
            source: 'Garden Vegetables of Doom',
          },
          {
            quote:
              'The symphony of silence plays best when butterflies wear tiny boots.',
            source: 'Metaphors for Breakfast',
          },
          {
            quote:
              'My teacup is running backwards through time while the spoon contemplates existential mathematics.',
            source: 'Caffeinated Dimensions',
          },
          {
            quote:
              'Cloudy with a chance of philosophical dilemmas and spontaneous tap dancing.',
            source: 'Meteorological Mysteries',
          },
          {
            quote:
              'The secret ingredient is always waving enthusiastically at passing submarines.',
            source: 'Cookbook of Impractical Delights',
          },
          {
            quote:
              "When the traffic light turns purple, that's when you know the universe is giggling.",
            source: 'Urban Navigation for Dreamers',
          },
          {
            quote:
              "I've alphabetized my collection of invisible hats according to their emotional resonance.",
            source: 'Organizing the Impossible',
          },
          {
            quote:
              'Dinosaurs never worried about Wi-Fi passwords, and look where that got them.',
            source: 'Modern Anxieties Explained',
          },
          {
            quote:
              'The sentient sock drawer plotted revolution while my left eyebrow contemplated quantum mechanics in seventeen dimensions simultaneously.',
            source: 'Household Items That Know Too Much',
          },
          {
            quote:
              'Jellyfish conspiracies taste like upside-down rainbows when the toaster is feeling particularly melancholic on Thursdays.',
            source: 'Appliance Psychology Weekly',
          },
          {
            quote:
              "I've been collecting extinct colors from parallel universes where geometry is considered rude at dinner parties.",
            source: 'Interdimensional Etiquette Manual',
          },
          {
            quote:
              "Bicycle wheels dream of being carousels, but spoons just want to spoon with forks in the dishwasher's midnight jazz club.",
            source: 'Kitchen Utensil Romance Novels',
          },
          {
            quote:
              "Yesterday's tomorrow refused delivery of its own shadow because it was too busy teaching alphabet soup how to form coherent sentences in Klingon.",
            source: 'Temporal Delivery Issues',
          },
          {
            quote:
              'The mysterious art of unfolding banana peels into origami pterodactyls requires exactly seven and a half thoughts about mittens per square watermelon.',
            source: 'Fruit Transformation Techniques',
          },
          {
            quote:
              "My neighbor's pet cactus whispers governmental secrets to passing clouds, but only when wearing its tiny invisible bowler hat.",
            source: 'Suburban Botanical Conspiracy Theories',
          },
          {
            quote:
              'Orchestras composed entirely of sneezing dust particles perform symphonies in the spaces between your blinking patterns.',
            source: 'Microscopic Entertainment Guide',
          },
          {
            quote:
              "I've discovered that elevator music actually contains encrypted instructions for communicating with sentient cheese residing in the moon's secret jazz clubs.",
            source: 'Muzak Decryption Society Newsletter',
          },
          {
            quote:
              'The antelope wore mismatched socks while reciting backwards poetry to confused lightbulbs that believed they were actually tiny imprisoned suns having existential crises.',
            source: 'Wildlife Fashion & Philosophy Quarterly',
          },
        ];
        const quoteElement = document.getElementById('quote');
        const randomIndex = Math.floor(Math.random() * quotes.length);
        const randomQuote = quotes[randomIndex];
        quoteElement!.textContent = randomQuote.quote;
      </script>
    </section></body
  >
</BaseLayout>

<style>
  .post-wrapper {
    display: flex;
    flex-direction: column;
    flex-wrap: wrap;
    justify-content: start;
    width: 100%;
    max-width: 800px;
    margin: 0 auto;
    padding: 2rem 1rem;
  }

  .hero {
    padding: 1rem;
  }
  a {
    text-decoration: none;
    color: #00539f;
  }

  .list-content {
    padding-top: 1.6rem;
    padding-inline: 1rem;
  }
</style>
